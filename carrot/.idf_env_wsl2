#
# ESP-IDF setup for WSL2
#

# local setup automatically for ESP-IDF 
if [[ ! -f $PROJ_ROOT/.idf_wsl2_local ]]; then
    . $PROJ_ROOT/.idf_wsl2_local.auto
fi

# load wsl2 local environment
. $PROJ_ROOT/.idf_wsl2_local     


wsl2_disto() {
    # delete the null byte; tr -d '\0'
    local result=$(wsl.exe -l -v | tr -d '\0')

    echo "$result" | awk '/Running/ {print $2}'
}
export WSL_DISTRO_NAME=$(wsl2_disto)

# set idfx's ESP port for monitor/flash
# export ESP_IDFX_COM=${win_com_port}
# ----------------------------------
.  $PROJ_ROOT/.idfx_wsl2_port
# ----------------------------------

#end of file
